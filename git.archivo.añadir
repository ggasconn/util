#!/bin/bash

if [ $# -eq 0 ]
then
  printf "\n\nUso:\n\t$0 { [directorio] archivo...}...\n\n"
  exit 1
fi

let NF=0

for D in $*
do
  if [ -d $D ]
  then   #es un directorio
    if [ $NF -ne 0 ]
    then
      git commit
      cd $D
      let NF=0
    fi
  else
    git add $D
    let NF=$NF+1
  fi
done

git commit
